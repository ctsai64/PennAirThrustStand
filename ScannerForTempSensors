#include <OneWire.h>
#include <DallasTemperature.h>

#define ONE_WIRE_BUS 4 
OneWire oneWire(ONE_WIRE_BUS);
DallasTemperature sensors(&oneWire);

void setup() {
  Serial.begin(115200);
  sensors.begin();
  
  int count = sensors.getDeviceCount();
  Serial.print("Found "); Serial.print(count); Serial.println(" sensors.");

  for (int i = 0; i < count; i++) {
    DeviceAddress tempAddress;
    if (sensors.getAddress(tempAddress, i)) {
      Serial.print("Sensor "); Serial.print(i); Serial.print(" Address: ");
      for (uint8_t i = 0; i < 8; i++) {
        if (tempAddress[i] < 16) Serial.print("0");
        Serial.print(tempAddress[i], HEX);
      }
      Serial.println();
    }
  }
}

void loop() {}
